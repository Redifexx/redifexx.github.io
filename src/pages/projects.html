<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="../../dist/app-bundle.js"></script>
  <script defer src="https://unpkg.com/alpinejs"></script>
  <title>Gio's Portfolio</title>
  <link href="https://fonts.googleapis.com/css2?family=Zalando+Sans+Expanded:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Questrial&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="./RGL.ico" />
  <link href="../../dist/output.css" rel="stylesheet">
</head>
<body class="">
    <div class="relative min-h-screen flex p-7 bg-center bg-fixed gap-6"> 
        <video autoplay muted loop playsinline
         class="absolute inset-0 w-full h-full object-cover -z-10">
            <source src="../../public/physx.mp4" type="video/mp4" />
        </video>
        <div class="absolute inset-0 bg-black/50 -z-10"></div>

        <div class= "flex flex-col max-w-[24rem] gap-6">
            <div class= "bg-slate-900/50 max-w-5xl py-10 px-10 rounded-3xl backdrop-blur-xl flex flex-col gap-4"> 
                <h1 class="text-white text-4xl text-shadow-md text-shadow-stone-200 text-left font-bold">Giovanni Perez Colon</h1>
                <div class = "flex flex-row gap-1 font-display justify-right text-shadow-none">
                    <a href="../../index.html" class="btn btn-sm text-xl rounded-lg">Home</a>
                    <div class="btn btn-sm text-xl rounded-lg">Resume</div>
                    <div class="btn btn-sm text-xl rounded-lg">Contact</div>
                </div>
            </div>

            <div class= "hero bg-base-200/20 max-w-5xl py-10 px-10 rounded-3xl backdrop-blur-xl items-start flex flex-col flex-1 gap-4 overflow-hidden"> 
                <h1 class="text-white text-4xl text-shadow-md text-shadow-stone-200 text-left font-bold">Categories</h1>
                <div class = "flex flex-col gap-1 font-display text-shadow-none">
                </div>
            </div>
        </div>
        
        <div x-data = "cardGrid()"
            x-init = "loadCards()"
            class="relative">
            <div 
                id="card-container"
                style= "height: calc(100vh - var(--spacing) * 14)"
                class= "hero bg-base-200/20 py-10 px-10 rounded-3xl backdrop-blur-xl flex flex-col gap-4 overflow-auto"
            > 
                <div 
                    x-init="$watch('expanded', value => {
                        const container = document.getElementById('card-container');
                        if (!container) return;
                        if (value !== null) {
                            container.classList.add('scroll-lock');
                        } else {
                            container.classList.remove('scroll-lock');
                        }
                    })"
                    class = "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"
                >
                    <template x-for="(card, i) in cards" :key="i">
                        <div>
                            <button
                                @click="toggleExpand(i); setExpanded(card)"
                                style="box-shadow: 4px 4px 3px #66628f"
                                class="card-body bg-slate-900/80 rounded-2xl aspect-square w-sm flex flex-col p-0 overflow-hidden text-left hover:brightness-125 active:scale-95 transition-all duration-300 ease-in-out"
                            >
                                <h2 class="card-title text-2xl px-7 pt-7" x-text="card.title"></h2>
                                <p class="px-7 pt-2 text-lg font-display" x-text="card.shortDescription"></p>
                                <img :src="card.thumbnail" class="flex flex-1 w-full object-cover bg-gradient-to-b from-slate-900/80 to-transparent pointer-events-none">
                            </button>
                        </div>
                    </template>
                </div>
            </div>
            <template x-if="expandedCard !== null">
                <div 
                    id="card-container-overlay"
                    style= "height: calc(100vh - var(--spacing) * 14)"
                    class= "absolute inset-0 bg-base-200/20 py-10 px-10 rounded-3xl backdrop-blur-xl flex flex-col h-full gap-4 z-10 "
                    x-show="expanded !== null"
                    x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="translate-y-full opacity-0"
                    x-transition:enter-end="translate-y-0 opacity-100"
                    x-transition:leave="transition ease-in duration-200"
                    x-transition:leave-start="translate-y-0 opacity-100"
                    x-transition:leave-end="translate-y-full opacity-0"
                > 
                    <div 
                    class = "overflow-y-auto flex-1"
                    >
                        <h2 class="card-title text-5xl mb-4" x-text="expandedCard.title"></h2>

                        <div class="flex flex-wrap justify-center">
                            <template x-for="media in expandedCard.media" :key="media">
                                <img :src="media" class="rounded-lg object-cover">
                            </template>
                        </div>

                        <p class="text-lg" x-text="expandedCard.description0"></p>
                        <p class="text-lg mt-2" x-text="expandedCard.description1"></p>
                    </div>
                    <button class="btn mt-4 justify-self-end" @click="toggleExpand(null); setExpanded(null)">Close</button>
                </div>  
            </template>
        </div>
    </div>
</body>
</html>